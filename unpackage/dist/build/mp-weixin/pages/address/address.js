(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/address"],{"12a5":function(e,n,r){"use strict";r.d(n,"b",(function(){return t})),r.d(n,"c",(function(){return o})),r.d(n,"a",(function(){return s}));var s={uniForms:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uni-forms/components/uni-forms/uni-forms")]).then(r.bind(null,"073c"))},uniFormsItem:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item")]).then(r.bind(null,"cf4a"))},uniEasyinput:function(){return r.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(r.bind(null,"965e"))},uniIcons:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(r.bind(null,"0a5c"))}},t=function(){var e=this.$createElement;this._self._c},o=[]},"51b8":function(e,n,r){"use strict";r.r(n);var s=r("d443"),t=r.n(s);for(var o in s)["default"].indexOf(o)<0&&function(e){r.d(n,e,(function(){return s[e]}))}(o);n["default"]=t.a},"87ef":function(e,n,r){"use strict";r.r(n);var s=r("12a5"),t=r("51b8");for(var o in t)["default"].indexOf(o)<0&&function(e){r.d(n,e,(function(){return t[e]}))}(o);var i=r("828b"),u=Object(i["a"])(t["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],void 0);n["default"]=u.exports},b739:function(e,n,r){"use strict";(function(e,n){var s=r("47a9");r("20fd");s(r("3240"));var t=s(r("87ef"));e.__webpack_require_UNI_MP_PLUGIN__=r,n(t.default)}).call(this,r("3223")["default"],r("df3c")["createPage"])},d443:function(e,n,r){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={data:function(){return{user:e.getStorageSync("xm-user"),addressList:[],form:{},rules:{address:{rules:[{required:!0,errorMessage:"请填写地址"}]},doorNo:{rules:[{required:!0,errorMessage:"请填写门牌号"}]},userName:{rules:[{required:!0,errorMessage:"请填写联系人"}]},phone:{rules:[{required:!0,errorMessage:"请填写联系电话"}]}},addressType:""}},onLoad:function(e){this.addressType=e.addressType,this.load()},methods:{selectAddress:function(n){var r=e.getStorageSync("orderStore")||{};"取货"===this.addressType?r.pickAddress=n:r.recieveAddress=n,e.setStorageSync("orderStore",r),e.redirectTo({url:"/pages/preorder/preorder"})},del:function(n){var r=this;this.$request.del("/address/delete/"+n).then((function(n){"200"===n.code?(e.showToast({icon:"success",title:"操作成功"}),r.load()):e.showToast({icon:"none",title:n.msg})}))},handleEdit:function(e){this.form=JSON.parse(JSON.stringify(e))},save:function(){var n=this;this.$refs.formRef.validate().then((function(r){n.form.userId=n.user.id,n.$request.post("/address/add",n.form).then((function(r){"200"===r.code?(e.showToast({icon:"success",title:"操作成功"}),n.addressType&&n.selectAddress(r.data),n.form={},n.load()):e.showToast({icon:"none",title:r.msg})}))})).catch((function(e){console.error(e)}))},load:function(){var e=this;this.$request.get("/address/selectAll",{userId:this.user.id}).then((function(n){e.addressList=n.data||[]}))}}};n.default=r}).call(this,r("df3c")["default"])}},[["b739","common/runtime","common/vendor"]]]);