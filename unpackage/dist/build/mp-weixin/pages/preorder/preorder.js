(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/preorder/preorder"],{4136:function(e,n,i){"use strict";i.r(n);var t=i("5f54"),r=i.n(t);for(var o in t)["default"].indexOf(o)<0&&function(e){i.d(n,e,(function(){return t[e]}))}(o);n["default"]=r.a},"48f2":function(e,n,i){"use strict";(function(e,n){var t=i("47a9");i("20fd");t(i("3240"));var r=t(i("b116"));e.__webpack_require_UNI_MP_PLUGIN__=i,n(r.default)}).call(this,i("3223")["default"],i("df3c")["createPage"])},"5f54":function(e,n,i){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={data:function(){return{form:{price:1,type:""},rules:{name:{rules:[{required:!0,errorMessage:"请填写物品名称"}]},price:{rules:[{required:!0,errorMessage:"请设置小费"}]},type:{rules:[{required:!0,errorMessage:"请设置订单类型"}]}},imgs:[],imageStyles:{height:80,width:80,border:{color:"#eee",width:"1px",style:"solid",radius:"50%"}},orderTypes:[{value:"代拿快递",text:"代拿快递"},{value:"代取餐品",text:"代取餐品"},{value:"代送物品",text:"代送物品"},{value:"其他代办",text:"其他代办"}],pickAddress:{},recieveAddress:{}}},onShow:function(){var n=e.getStorageSync("orderStore");this.form.type=null===n||void 0===n?void 0:n.type,this.pickAddress=(null===n||void 0===n?void 0:n.pickAddress)||{},this.recieveAddress=(null===n||void 0===n?void 0:n.recieveAddress)||{}},methods:{selectAddress:function(n){e.navigateTo({url:"/pages/address/address?addressType="+n})},addOrder:function(){var n=this;this.pickAddress.id?this.recieveAddress.id?this.pickAddress.id!==this.recieveAddress.id?(this.form.addressId=this.pickAddress.id,this.form.targetId=this.recieveAddress.id,this.$refs.formRef.validate().then((function(i){n.$request.post("/orders/addOrder",n.form).then((function(n){"200"===n.code?(e.showToast({icon:"success",title:"下单成功"}),e.removeStorageSync("orderStore"),setTimeout((function(){e.switchTab({url:"/pages/index/index"})}),500)):e.showToast({icon:"none",title:n.msg})}))})).catch((function(e){console.error(e)}))):e.showToast({icon:"none",title:"取货地址不能跟收货地址一致"}):e.showToast({icon:"none",title:"请设置收货地址"}):e.showToast({icon:"none",title:"请设置取货地址"})},handleImgUploadSuccess:function(n){var i=this,t=n.tempFilePaths[0];e.uploadFile({url:i.$baseUrl+"/files/upload",filePath:t,name:"file",success:function(e){var n=JSON.parse(e.data||"{}").data;i.form.img=n}})}}};n.default=i}).call(this,i("df3c")["default"])},b116:function(e,n,i){"use strict";i.r(n);var t=i("b5d8"),r=i("4136");for(var o in r)["default"].indexOf(o)<0&&function(e){i.d(n,e,(function(){return r[e]}))}(o);var s=i("828b"),u=Object(s["a"])(r["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],void 0);n["default"]=u.exports},b5d8:function(e,n,i){"use strict";i.d(n,"b",(function(){return r})),i.d(n,"c",(function(){return o})),i.d(n,"a",(function(){return t}));var t={uniSection:function(){return i.e("uni_modules/uni-section/components/uni-section/uni-section").then(i.bind(null,"349e"))},uniForms:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uni-forms/components/uni-forms/uni-forms")]).then(i.bind(null,"073c"))},uniFormsItem:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item")]).then(i.bind(null,"cf4a"))},uniEasyinput:function(){return i.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(i.bind(null,"965e"))},uniNumberBox:function(){return i.e("uni_modules/uni-number-box/components/uni-number-box/uni-number-box").then(i.bind(null,"8453"))},uniDataSelect:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uni-data-select/components/uni-data-select/uni-data-select")]).then(i.bind(null,"9290"))},uniFilePicker:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker")]).then(i.bind(null,"87d6"))}},r=function(){var e=this.$createElement;this._self._c},o=[]}},[["48f2","common/runtime","common/vendor"]]]);