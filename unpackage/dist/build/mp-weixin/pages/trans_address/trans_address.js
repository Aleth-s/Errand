(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/trans_address/trans_address"],{"1aec":function(e,n,s){"use strict";s.r(n);var t=s("7cc0"),r=s("59d0");for(var o in r)["default"].indexOf(o)<0&&function(e){s.d(n,e,(function(){return r[e]}))}(o);var i=s("828b"),u=Object(i["a"])(r["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],void 0);n["default"]=u.exports},"59d0":function(e,n,s){"use strict";s.r(n);var t=s("fc15"),r=s.n(t);for(var o in t)["default"].indexOf(o)<0&&function(e){s.d(n,e,(function(){return t[e]}))}(o);n["default"]=r.a},"7cc0":function(e,n,s){"use strict";s.d(n,"b",(function(){return r})),s.d(n,"c",(function(){return o})),s.d(n,"a",(function(){return t}));var t={uniForms:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-forms/components/uni-forms/uni-forms")]).then(s.bind(null,"073c"))},uniFormsItem:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item")]).then(s.bind(null,"cf4a"))},uniEasyinput:function(){return s.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(s.bind(null,"965e"))},uniIcons:function(){return Promise.all([s.e("common/vendor"),s.e("uni_modules/uni-icons/components/uni-icons/uni-icons")]).then(s.bind(null,"0a5c"))}},r=function(){var e=this.$createElement;this._self._c},o=[]},d60f:function(e,n,s){"use strict";(function(e,n){var t=s("47a9");s("20fd");t(s("3240"));var r=t(s("1aec"));e.__webpack_require_UNI_MP_PLUGIN__=s,n(r.default)}).call(this,s("3223")["default"],s("df3c")["createPage"])},fc15:function(e,n,s){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s={data:function(){return{user:e.getStorageSync("xm-user"),addressList:[],form:{},rules:{address:{rules:[{required:!0,errorMessage:"请填写地址"}]},doorNo:{rules:[{required:!0,errorMessage:"请填写门牌号"}]},userName:{rules:[{required:!0,errorMessage:"请填写联系人"}]},phone:{rules:[{required:!0,errorMessage:"请填写联系电话"}]}},addressType:""}},onLoad:function(e){this.addressType=e.addressType,this.load()},methods:{selectAddress:function(n){var s=e.getStorageSync("orderStore")||{};"取货"===this.addressType?s.pickAddress=n:s.recieveAddress=n,e.setStorageSync("orderStore",s),e.showToast({icon:"success",title:"操作成功"}),e.navigateBack()},del:function(n){var s=this;this.$request.del("/address/delete/"+n).then((function(n){"200"===n.code?(e.showToast({icon:"success",title:"操作成功"}),s.load()):e.showToast({icon:"none",title:n.msg})}))},handleEdit:function(e){this.form=JSON.parse(JSON.stringify(e))},save:function(){var n=this;this.$refs.formRef.validate().then((function(s){n.form.userId=n.user.id,n.$request.post("/address/add",n.form).then((function(s){"200"===s.code?(e.showToast({icon:"success",title:"操作成功"}),n.addressType&&n.selectAddress(s.data),n.form={},n.load()):e.showToast({icon:"none",title:s.msg})}))})).catch((function(e){console.error(e)}))},load:function(){var e=this;this.$request.get("/address/selectAll",{userId:this.user.id}).then((function(n){e.addressList=n.data||[]}))}}};n.default=s}).call(this,s("df3c")["default"])}},[["d60f","common/runtime","common/vendor"]]]);